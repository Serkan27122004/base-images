selector:
  sw.os: 1
  arch.sw: 1
  sw.blob: '1+'
output:
  filename: Dockerfile
  imageName: "{{this.children.arch.sw.slug}}-{{this.children.sw.os.slug}}-supervisor-base"
  type: sw.docker-image.os-arch-supervisor
  slug: "{{this.children.arch.sw.slug}}-{{this.children.sw.os.slug}}-supervisor-base:{{this.children.sw.os.version}}"
  path: "supervisor/{{this.children.arch.sw.slug}}/{{this.children.sw.os.slug}}/{{this.children.sw.os.version}}"
  template:
    - name: supervisor
      data: >
        {{import partial="from" combination="sw.os+arch.sw"}}

        {{#sw.blob.qemu}}
        {{import partial="qemu" combination="sw.os+arch.sw"}}
        {{/sw.blob.qemu}}

        {{import partial="balena-xbuild" combination="sw.os+arch.sw"}}